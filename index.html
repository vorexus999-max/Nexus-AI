<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nexus AI - Geography</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #0b0c10;
    color: #c5c6c7;
}

#terminal {
    padding: 20px;
    height: 90vh;
    overflow-y: auto;
    white-space: pre-wrap;
    background: #1f2833;
}

#inputBar {
    width: 100%;
    position: fixed;
    bottom: 0;
    left: 0;
    background: #0b0c10;
    padding: 10px;
    border-top: 1px solid #45a29e;
}

#inputBar input {
    width: 95%;
    background: #0b0c10;
    border: none;
    outline: none;
    color: #66fcf1;
    font-size: 16px;
    font-family: monospace;
}
.user { color:#66fcf1; }
.nexus { color:#45a29e; }
</style>
</head>
<body>

<div id="terminal">
NEXUS AI - GEOGRAPHY ONLINE  
----------------------------------  
Type your question about countries, capitals, leaders, GDP, population, etc.
</div>

<div id="inputBar">
    <input id="userInput" type="text" placeholder=">>" onkeydown="if(event.key==='Enter') send()">
</div>

<script>
// Load countries.json (for demo, we assume countries data is embedded)
let countries = {}; // akan diisi dari countries.json atau embed data

// Contoh minimal data, nanti bisa diganti dengan 100 negara lengkap
countries["China"] = {
    "capital": "Beijing",
    "leader": "Xi Jinping",
    "independence": "1 October 1949",
    "gdpPerCapita": "$12,556",
    "population": "1.4 billion",
    "area": "9,596,961 km²",
    "language": "Mandarin",
    "currency": "Renminbi"
};

countries["USA"] = {
    "capital": "Washington, D.C.",
    "leader": "Joe Biden",
    "independence": "4 July 1776",
    "gdpPerCapita": "$76,000",
    "population": "331 million",
    "area": "9,833,520 km²",
    "language": "English",
    "currency": "USD"
};

// Small talk responses
const smallTalk = [
    "Hello! How's your day going?",
    "I'm here and ready to answer geography questions.",
    "Hi there! Ask me about any country.",
    "Greetings! Curious about some country stats?"
];

function parseQuestion(input) {
    input = input.toLowerCase();
    // detect country
    let country = null;
    for (let c in countries) {
        if (input.includes(c.toLowerCase())) {
            country = c;
            break;
        }
    }

    // detect intent
    if (!country) return "I don't understand";
    
    if (input.includes("when") && input.includes("independence")) {
        return `${country} became independent on ${countries[country].independence}.`;
    }
    if (input.includes("capital")) {
        return `${country}'s capital is ${countries[country].capital}.`;
    }
    if (input.includes("leader") || input.includes("president") || input.includes("prime minister")) {
        return `The leader of ${country} is ${countries[country].leader}.`;
    }
    if (input.includes("gdp")) {
        return `${country}'s GDP per capita is ${countries[country].gdpPerCapita}.`;
    }
    if (input.includes("population")) {
        return `${country}'s population is ${countries[country].population}.`;
    }
    if (input.includes("area")) {
        return `${country}'s area is ${countries[country].area}.`;
    }
    if (input.includes("language")) {
        return `The main language of ${country} is ${countries[country].language}.`;
    }
    if (input.includes("currency")) {
        return `${country}'s currency is ${countries[country].currency}.`;
    }

    // fallback small talk
    return smallTalk[Math.floor(Math.random() * smallTalk.length)];
}

function send() {
    const box = document.getElementById("terminal");
    const input = document.getElementById("userInput");
    const text = input.value.trim();
    if (!text) return;

    box.innerHTML += `\n\n[user] >> ${text}`;
    const reply = parseQuestion(text);
    box.innerHTML += `\n[nexus] >> ${reply}`;
    box.scrollTop = box.scrollHeight;

    input.value = "";
}
</script>

</body>
</html>
