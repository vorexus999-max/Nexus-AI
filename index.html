<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nexus AI - Geography Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
/* Ganti seluruh CSS Anda dengan ini untuk tampilan ChatGPT */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    /* Latar belakang gelap seperti mode default ChatGPT */
    background-color: #343541; 
    color: #ececf1; /* Teks putih untuk kontras */
    display: flex;
    flex-direction: column;
    height: 100vh;
}

#chatContainer {
    flex: 1;
    overflow-y: auto;
    /* Padding atas-bawah dan samping untuk memberi ruang */
    padding: 20px 0; 
    display: flex;
    flex-direction: column;
    /* Lebar Kotak Chat Utama Diperbesar */
    max-width: 900px; 
    width: 100%;
    margin: 0 auto;
}

.messageContainer {
    display: flex;
    padding: 15px 20px;
    align-items: flex-start;
}

.userContainer {
    background-color: #343541; /* Sama dengan body, agar hanya input yang menonjol */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.botContainer {
    background-color: #444654; /* Warna sedikit lebih terang untuk pesan bot */
}

.messageContent {
    /* Lebar Pesan Diperbesar */
    max-width: 95%; 
    padding: 0;
    word-wrap: break-word;
    line-height: 1.5;
    white-space: pre-wrap; /* Penting untuk format teks yang baik */
}

/* Gaya khusus untuk pesan pengguna dan bot agar sejajar dengan ikon/avatar */
.userContainer .messageContent {
    margin-left: 20px;
}
.botContainer .messageContent {
    margin-left: 20px; 
}


#inputBar {
    display: flex;
    justify-content: center;
    padding: 10px 20px;
    background: #343541; /* Warna latar belakang input */
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.inputWrapper {
    display: flex;
    align-items: center;
    width: 100%;
    /* Pastikan lebar wrapper input sesuai dengan container chat */
    max-width: 900px; 
    background-color: #40414f; /* Warna latar belakang kotak input */
    border: 1px solid #5a5b67;
    border-radius: 10px;
    padding: 8px 15px; 
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

#userInput {
    flex: 1;
    padding: 10px 0;
    font-size: 16px;
    border: none;
    background: none;
    color: #ececf1;
    outline: none;
    resize: none; 
}

/* Tombol Kirim (Send) */
#inputBar button {
    margin-left: 10px;
    width: 30px; 
    height: 30px;
    border: none;
    background: #5a5b67;
    color: #ececf1;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    padding: 0;
}

#inputBar button:hover {
    background: #6e7080;
}
</style>
</head>
<body>

<div id="chatContainer"></div>

<div id="inputBar">
    <div class="inputWrapper">
        <input id="userInput" type="text" placeholder="Ask a country..." onkeydown="if(event.key==='Enter') sendMessage()">
        <button onclick="sendMessage()">⬆</button>
    </div>
</div>

<script>
// Data Negara (50 negara, sama seperti kode asli Anda)
const countries = {
  "USA":{"capital":"Washington, D.C.","leader":"Joe Biden","independence":"4 July 1776","gdpPerCapita":"$76,000","population":"331 million","area":"9,833,520 km²","language":"English","currency":"USD"},
  "China":{"capital":"Beijing","leader":"Xi Jinping","independence":"1 October 1949","gdpPerCapita":"$12,556","population":"1.4 billion","area":"9,596,961 km²","language":"Mandarin","currency":"Renminbi"},
  "France":{"capital":"Paris","leader":"Emmanuel Macron","independence":"14 July 1789","gdpPerCapita":"$41,463","population":"67 million","area":"643,801 km²","language":"French","currency":"Euro"},
  "Germany":{"capital":"Berlin","leader":"Frank-Walter Steinmeier","independence":"3 October 1990","gdpPerCapita":"$55,306","population":"83 million","area":"357,022 km²","language":"German","currency":"Euro"},
  "Japan":{"capital":"Tokyo","leader":"Fumio Kishida","independence":"11 February 660 BC (traditional)","gdpPerCapita":"$40,847","population":"125 million","area":"377,975 km²","language":"Japanese","currency":"Yen"},
  "UK":{"capital":"London","leader":"Rishi Sunak","independence":"1707 (United Kingdom formation)","gdpPerCapita":"$46,828","population":"68 million","area":"243,610 km²","language":"English","currency":"Pound Sterling"},
  "Canada":{"capital":"Ottawa","leader":"Justin Trudeau","independence":"1 July 1867","gdpPerCapita":"$52,144","population":"38 million","area":"9,833,520 km²","language":"English, French","currency":"CAD"},
  "India":{"capital":"New Delhi","leader":"Narendra Modi","independence":"15 August 1947","gdpPerCapita":"$2,277","population":"1.4 billion","area":"3,287,263 km²","language":"Hindi, English","currency":"Rupee"},
  "Brazil":{"capital":"Brasília","leader":"Luiz Inácio Lula da Silva","independence":"7 September 1822","gdpPerCapita":"$6,797","population":"213 million","area":"8,515,767 km²","language":"Portuguese","currency":"BRL"},
  "Russia":{"capital":"Moscow","leader":"Vladimir Putin","independence":"25 December 1991 (post-Soviet)","gdpPerCapita":"$10,230","population":"144 million","area":"17,098,246 km²","language":"Russian","currency":"Ruble"},
  "Italy":{"capital":"Rome","leader":"Sergio Mattarella","independence":"17 March 1861","gdpPerCapita":"$34,777","population":"60 million","area":"301,340 km²","language":"Italian","currency":"Euro"},
  "Australia":{"capital":"Canberra","leader":"Anthony Albanese","independence":"1 January 1901","gdpPerCapita":"$62,000","population":"25 million","area":"7,692,024 km²","language":"English","currency":"AUD"},
  "Mexico":{"capital":"Mexico City","leader":"Andrés Manuel López Obrador","independence":"16 September 1810","gdpPerCapita":"$10,326","population":"130 million","area":"1,964,375 km²","language":"Spanish","currency":"MXN"},
  "South Korea":{"capital":"Seoul","leader":"Yoon Suk-yeol","independence":"15 August 1945","gdpPerCapita":"$35,000","population":"51 million","area":"100,210 km²","language":"Korean","currency":"Won"},
  "Argentina":{"capital":"Buenos Aires","leader":"Alberto Fernández","independence":"9 July 1816","gdpPerCapita":"$10,520","population":"45 million","area":"2,780,400 km²","language":"Spanish","currency":"ARS"},
  "Saudi Arabia":{"capital":"Riyadh","leader":"Salman bin Abdulaziz Al Saud","independence":"23 September 1932","gdpPerCapita":"$23,139","population":"35 million","area":"2,150,000 km²","language":"Arabic","currency":"SAR"},
  "Turkey":{"capital":"Ankara","leader":"Recep Tayyip Erdoğan","independence":"29 October 1923","gdpPerCapita":"$9,600","population":"84 million","area":"783,356 km²","language":"Turkish","currency":"TRY"},
  "Spain":{"capital":"Madrid","leader":"Felipe VI","independence":"15 May 1715","gdpPerCapita":"$30,115","population":"47 million","area":"505,990 km²","language":"Spanish","currency":"Euro"},
  "Indonesia":{"capital":"Jakarta","leader":"Joko Widodo","independence":"17 August 1945","gdpPerCapita":"$4,256","population":"273 million","area":"1,904,569 km²","language":"Indonesian","currency":"IDR"},
  "Nigeria":{"capital":"Abuja","leader":"Bola Tinubu","independence":"1 October 1960","gdpPerCapita":"$2,432","population":"216 million","area":"923,769 km²","language":"English","currency":"NGN"},
  "Pakistan":{"capital":"Islamabad","leader":"Arif Alvi","independence":"14 August 1947","gdpPerCapita":"$1,666","population":"225 million","area":"881,913 km²","language":"Urdu, English","currency":"PKR"},
  "Bangladesh":{"capital":"Dhaka","leader":"Abdul Hamid","independence":"26 March 1971","gdpPerCapita":"$2,554","population":"166 million","area":"147,570 km²","language":"Bengali","currency":"BDT"},
  "Egypt":{"capital":"Cairo","leader":"Abdel Fattah el-Sisi","independence":"28 February 1922","gdpPerCapita":"$3,888","population":"102 million","area":"1,010,408 km²","language":"Arabic","currency":"EGP"},
  "South Africa":{"capital":"Pretoria","leader":"Cyril Ramaphosa","independence":"31 May 1910 (Union formation)","gdpPerCapita":"$6,374","population":"60 million","area":"1,221,037 km²","language":"Zulu, Xhosa, English","currency":"ZAR"},
  "Morocco":{"capital":"Rabat","leader":"Mohammed VI","independence":"2 March 1956","gdpPerCapita":"$3,183","population":"36 million","area":"446,550 km²","language":"Arabic, Berber","currency":"MAD"},
  "Ethiopia":{"capital":"Addis Ababa","leader":"Sahle-Work Zewde","independence":"28 May 1991 (Derg fall)","gdpPerCapita":"$1,149","population":"117 million","area":"1,104,300 km²","language":"Amharic","currency":"ETB"},
  "Thailand":{"capital":"Bangkok","leader":"Prayut Chan-o-cha","independence":"5 December 1932","gdpPerCapita":"$7,189","population":"70 million","area":"513,120 km²","language":"Thai","currency":"THB"},
  "Vietnam":{"capital":"Hanoi","leader":"Vo Van Thu","independence":"2 September 1945","gdpPerCapita":"$3,694","population":"98 million","area":"331,212 km²","language":"Vietnamese","currency":"VND"},
  "Philippines":{"capital":"Manila","leader":"Ferdinand Marcos Jr.","independence":"12 June 1898","gdpPerCapita":"$3,485","population":"113 million","area":"300,000 km²","language":"Filipino, English","currency":"PHP"},
  "Malaysia":{"capital":"Kuala Lumpur","leader":"Anwar Ibrahim","independence":"31 August 1957","gdpPerCapita":"$11,415","population":"33 million","area":"330,803 km²","language":"Malay","currency":"MYR"},
  "Singapore":{"capital":"Singapore","leader":"Halimah Yacob","independence":"9 August 1965","gdpPerCapita":"$72,794","population":"5.7 million","area":"728.6 km²","language":"English, Malay, Mandarin, Tamil","currency":"SGD"},
  "Niger":{"capital":"Niamey","leader":"Mohamed Bazoum","independence":"3 August 1960","gdpPerCapita":"$567","population":"25 million","area":"1,267,000 km²","language":"French","currency":"XOF"},
  "Greece":{"capital":"Athens","leader":"Katerina Sakellaropoulou","independence":"25 March 1821","gdpPerCapita":"$20,291","population":"10.7 million","area":"131,957 km²","language":"Greek","currency":"EUR"},
  "Netherlands":{"capital":"Amsterdam","leader":"Mark Rutte","independence":"26 July 1581","gdpPerCapita":"$58,341","population":"17 million","area":"41,543 km²","language":"Dutch","currency":"EUR"},
  "Belgium":{"capital":"Brussels","leader":"Philippe","independence":"4 October 1830","gdpPerCapita":"$50,274","population":"11.5 million","area":"30,528 km²","language":"Dutch, French, German","currency":"EUR"},
  "Sweden":{"capital":"Stockholm","leader":"Carl XVI Gustaf","independence":"6 June 1523","gdpPerCapita":"$57,963","population":"10 million","area":"450,295 km²","language":"Swedish","currency":"SEK"},
  "Norway":{"capital":"Oslo","leader":"Harald V","independence":"7 Juni 1905","gdpPerCapita":"$89,741","population":"5.4 million","area":"385,207 km²","language":"Norwegian","currency":"NOK"},
  "Finland":{"capital":"Helsinki","leader":"Sauli Niinistö","independence":"6 December 1917","gdpPerCapita":"$56,148","population":"5.5 million","area":"338,424 km²","language":"Finnish, Swedish","currency":"EUR"},
  "Denmark":{"capital":"Copenhagen","leader":"Margrethe II","independence":"10 July 958 (Kingdom formation)","gdpPerCapita":"$63,389","population":"5.8 million","area":"42,933 km²","language":"Danish","currency":"DKK"},
  "Switzerland":{"capital":"Bern","leader":"Alain Berset","independence":"1 August 1291","gdpPerCapita":"$86,850","population":"8.6 million","area":"41,285 km²","language":"German, French, Italian, Romansh","currency":"CHF"},
  "Poland":{"capital":"Warsaw","leader":"Andrzej Duda","independence":"11 November 1918","gdpPerCapita":"$17,273","population":"38 million","area":"312,696 km²","language":"Polish","currency":"PLN"},
  "Portugal":{"capital":"Lisbon","leader":"Marcelo Rebelo de Sousa","independence":"5 October 1143","gdpPerCapita":"$23,207","population":"10.3 million","area":"92,090 km²","language":"Portuguese","currency":"EUR"}
};

// Parser dan kirim message sama seperti sebelumnya
function parseQuestion(input){
    input = input.toLowerCase().replace(/[?.!]/g,'');
    let country = null;
    for(let c in countries){
        if(input.includes(c.toLowerCase())){
            country = c;
            break;
        }
    }
    if(!country) return "I don't understand the country.";
    if((input.includes("when")||input.includes("date")||input.includes("independence")) && input.includes("independence")){
        return `${country} became independent on ${countries[country].independence}.`;
    }
    if(input.includes("capital")||input.includes("city")){
        return `${country}'s capital is ${countries[country].capital}.`;
    }
    if(input.includes("leader")||input.includes("president")||input.includes("prime minister")||input.includes("king")||input.includes("queen")){
        if(country==="Niger"){
            return "The answer is Lanang Damar!, haha just kidding the correct one is Mohamed Bazoum";
        }
        return `The leader of ${country} is ${countries[country].leader}.`;
    }
    if(input.includes("gdp")||input.includes("economy")){
        return `${country}'s GDP per capita is ${countries[country].gdpPerCapita}.`;
    }
    if(input.includes("population")||input.includes("people")){
        return `${country}'s population is ${countries[country].population}.`;
    }
    if(input.includes("area")||input.includes("size")||input.includes("land")){
        return `${country}'s area is ${countries[country].area}.`;
    }
    if(input.includes("language")||input.includes("speak")){
        return `The main language of ${country} is ${countries[country].language}.`;
    }
    if(input.includes("currency")||input.includes("money")){
        return `${country}'s currency is ${countries[country].currency}.`;
    }
    return "I don't understand your question.";
}

// Fungsi pembantu untuk membuat elemen pesan
function createMessage(text, isUser) {
    const chat = document.getElementById("chatContainer");
    
    // 1. Buat kontainer utama (messageContainer)
    const messageDiv = document.createElement("div");
    messageDiv.className = "messageContainer " + (isUser ? "userContainer" : "botContainer");

    // 2. Buat elemen ikon placeholder
    const iconDiv = document.createElement("div");
    iconDiv.style.width = "20px";
    iconDiv.style.height = "20px";
    iconDiv.style.borderRadius = "3px";
    iconDiv.style.backgroundColor = isUser ? "#19c37d" : "#5a5b67"; // Warna ikon/avatar
    iconDiv.style.color = "white";
    iconDiv.style.display = "flex";
    iconDiv.style.alignItems = "center";
    iconDiv.style.justifyContent = "center";
    iconDiv.style.fontSize = "12px";
    iconDiv.textContent = isUser ? "U" : "N"; // 'U' untuk User, 'N' untuk Nexus
    
    // 3. Buat konten pesan (messageContent)
    const contentDiv = document.createElement("div");
    contentDiv.className = "messageContent";
    contentDiv.textContent = text;

    // Tambahkan ikon dan konten ke kontainer
    messageDiv.appendChild(iconDiv);
    messageDiv.appendChild(contentDiv);
    
    chat.appendChild(messageDiv);
}

// Fungsi utama untuk mengirim pesan
function sendMessage(){
    const input = document.getElementById("userInput");
    const text = input.value.trim();
    if(!text) return;

    // Buat pesan pengguna
    createMessage(text, true); // true = isUser

    // Dapatkan dan buat pesan bot
    const botText = parseQuestion(text);
    createMessage(botText, false); // false = isBot
    
    const chat = document.getElementById("chatContainer");
    chat.scrollTop = chat.scrollHeight;
    input.value = "";
}

// Prevent zoom with Ctrl+scroll on desktop
document.getElementById('userInput').addEventListener('wheel', function(e){
    if(e.ctrlKey) e.preventDefault();
}, { passive: false });
</script>

</body>
</html>
